{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\Ahimsha\\\\Dicoding\\\\Capstone-Project-FERE-C22-072-main\\\\capstoneProject(global)\\\\src\\\\Components\\\\Navbar.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { FaBars, FaTimes } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport CONFIG from \"../Global/Config\";\nimport Cookie from \"../Global/SetCookie\";\nimport \"../Styles/main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Navbar() {\n  _s();\n\n  const navRef = useRef();\n  const [user, setUser] = useState(null);\n\n  const showNavbar = () => {\n    navRef.current.classList.toggle(\"responsive_nav\");\n  };\n\n  let handleLogout = () => {\n    Cookie.remove(CONFIG.TOKEN_KEY);\n    window.location.reload(true);\n  };\n\n  useEffect(() => {\n    if (Cookie.get(CONFIG.TOKEN_KEY) && user == null) {\n      axios({\n        url: CONFIG.API_URL('/user'),\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': \"application/json\",\n          'Authorization': `Bearer ${Cookie.get(CONFIG.TOKEN_KEY)}`\n        }\n      }).then(response => {\n        let res = response.data;\n\n        if (res.status) {\n          setUser(res.data);\n          console.log(user);\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"MindHealth\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      ref: navRef,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/#\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/services\",\n        children: \"Layanan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/blog\",\n        children: \"Blog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/about-us\",\n        children: \"About Us\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin\",\n          className: \"bg-default text-white rounded-3 px-3\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"javascript:;\",\n          onClick: handleLogout,\n          className: \"text-danger bg-white\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"nav-btn nav-close-btn\",\n        onClick: showNavbar,\n        children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"nav-btn\",\n      onClick: showNavbar,\n      children: /*#__PURE__*/_jsxDEV(FaBars, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Navbar, \"5aqx/wCeP9f+Y5TC8lR+otlm0Ns=\");\n\n_c = Navbar;\nexport default Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["C:/Users/ASUS/Documents/Ahimsha/Dicoding/Capstone-Project-FERE-C22-072-main/capstoneProject(global)/src/Components/Navbar.js"],"names":["axios","useEffect","useRef","useState","FaBars","FaTimes","Link","CONFIG","Cookie","Navbar","navRef","user","setUser","showNavbar","current","classList","toggle","handleLogout","remove","TOKEN_KEY","window","location","reload","get","url","API_URL","method","headers","then","response","res","data","status","console","log","name"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,gBAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAO,oBAAP;;;;AAEA,SAASC,MAAT,GAAkB;AAAA;;AACjB,QAAMC,MAAM,GAAGR,MAAM,EAArB;AACA,QAAM,CAACS,IAAD,EAAMC,OAAN,IAAiBT,QAAQ,CAAC,IAAD,CAA/B;;AAEA,QAAMU,UAAU,GAAG,MAAM;AACxBH,IAAAA,MAAM,CAACI,OAAP,CAAeC,SAAf,CAAyBC,MAAzB,CAAgC,gBAAhC;AACA,GAFD;;AAIA,MAAIC,YAAY,GAAG,MAAM;AACxBT,IAAAA,MAAM,CAACU,MAAP,CAAcX,MAAM,CAACY,SAArB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACA,GAHD;;AAKArB,EAAAA,SAAS,CAAC,MAAM;AAEf,QAAGO,MAAM,CAACe,GAAP,CAAWhB,MAAM,CAACY,SAAlB,KAAiCR,IAAI,IAAI,IAA5C,EACA;AACCX,MAAAA,KAAK,CAAC;AACLwB,QAAAA,GAAG,EAAEjB,MAAM,CAACkB,OAAP,CAAe,OAAf,CADA;AAELC,QAAAA,MAAM,EAAE,KAFH;AAGLC,QAAAA,OAAO,EAAE;AACR,0BAAiB,kBADT;AAER,oBAAU,kBAFF;AAGR,2BAAkB,UAASnB,MAAM,CAACe,GAAP,CAAWhB,MAAM,CAACY,SAAlB,CAA6B;AAHhD;AAHJ,OAAD,CAAL,CASCS,IATD,CASOC,QAAD,IAAc;AACnB,YAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;;AACA,YAAGD,GAAG,CAACE,MAAP,EAAc;AACbpB,UAAAA,OAAO,CAACkB,GAAG,CAACC,IAAL,CAAP;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYvB,IAAZ;AACA;AACD,OAfD;AAgBA;AAED,GAtBQ,CAAT;AAwBA,sBACC;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAK,MAAA,GAAG,EAAED,MAAV;AAAA,8BACC,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAEC,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFD,eAGC,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHD,eAIC,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJD,EAKEC,IAAI,gBACL;AAAA,gCACC,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,QAAT;AAAkB,UAAA,SAAS,EAAC,sCAA5B;AAAA,oBAAoEA,IAAI,CAACwB;AAAzE;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAG,UAAA,IAAI,EAAC,cAAR;AAAuB,UAAA,OAAO,EAAElB,YAAhC;AAA8C,UAAA,SAAS,EAAC,sBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA,sBADK,gBAML,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXD,eAYC;AACC,QAAA,SAAS,EAAC,uBADX;AAEC,QAAA,OAAO,EAAEJ,UAFV;AAAA,+BAGC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA,cAZD;AAAA;AAAA;AAAA;AAAA;AAAA,YAFD,eAoBC;AAAQ,MAAA,SAAS,EAAC,SAAlB;AAA4B,MAAA,OAAO,EAAEA,UAArC;AAAA,6BACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YApBD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA0BA;;GA/DQJ,M;;KAAAA,M;AAiET,eAAeA,MAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { FaBars, FaTimes } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport CONFIG from \"../Global/Config\";\nimport Cookie from \"../Global/SetCookie\";\nimport \"../Styles/main.css\";\n\nfunction Navbar() {\n\tconst navRef = useRef();\n\tconst [user,setUser] = useState(null)\n\n\tconst showNavbar = () => {\n\t\tnavRef.current.classList.toggle(\"responsive_nav\");\n\t};\n\n\tlet handleLogout = () => {\n\t\tCookie.remove(CONFIG.TOKEN_KEY)\n\t\twindow.location.reload(true)\n\t}\n\n\tuseEffect(() => {\n\n\t\tif(Cookie.get(CONFIG.TOKEN_KEY) && (user == null))\n\t\t{\n\t\t\taxios({\n\t\t\t\turl: CONFIG.API_URL('/user'),\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type' : 'application/json',\n\t\t\t\t\t'Accept': \"application/json\",\n\t\t\t\t\t'Authorization': `Bearer ${Cookie.get(CONFIG.TOKEN_KEY)}`,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tlet res = response.data\n\t\t\t\tif(res.status){\n\t\t\t\t\tsetUser(res.data)\n\t\t\t\t\tconsole.log(user)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t})\n\n\treturn (\n\t\t<header>\n\t\t\t<h3>MindHealth</h3>\n\t\t\t<nav ref={navRef}>\n\t\t\t\t<Link to=\"/#\">Home</Link>\n\t\t\t\t<Link to=\"/services\">Layanan</Link>\n\t\t\t\t<Link to=\"/blog\">Blog</Link>\n\t\t\t\t<Link to=\"/about-us\">About Us</Link>\n\t\t\t\t{user? \n\t\t\t\t<>\n\t\t\t\t\t<Link to=\"/admin\" className=\"bg-default text-white rounded-3 px-3\">{user.name}</Link> \n\t\t\t\t\t<a href=\"javascript:;\" onClick={handleLogout} className=\"text-danger bg-white\">Logout</a> \n\t\t\t\t</>\n\t\t\t\t: \n\t\t\t\t<Link to=\"/login\">Login</Link>}\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"nav-btn nav-close-btn\"\n\t\t\t\t\tonClick={showNavbar}>\n\t\t\t\t\t<FaTimes />\n\t\t\t\t</button>\n\t\t\t</nav>\n\t\t\t<button className=\"nav-btn\" onClick={showNavbar}>\n\t\t\t\t<FaBars />\n\t\t\t</button>\n\t\t</header>\n\t);\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}